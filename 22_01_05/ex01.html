<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.5.1/jquery.min.js"></script>
    <link rel="stylesheet" href="common.css">
    <title>상품관리</title>
</head>
<body>
    <div id="page">
        <div id="top"><h1>상품관리</h1></div>
        <div id="menu">
            <span><a href="./ex01.html">상품관리</a></span>
            <span> | </span>
            <span><a href="./ex02.html">회원관리</a></span>
            <span> | </span>
            <span><a href="./ex03.html">주소관리</a></span>
        </div>
        <div id="cetner">
            <form name="frm">
            <table>
                <tr>
                    <th width=100>상품코드</th>
                    <td width=500><input type="text" name="code"></td>
                </tr>
                <tr>
                    <th width=100>상품이름 </th>
                    <td width=500><input type="text" name="name" size="50"></td> 
                </tr>
                <tr>
                    <th width=100>상품가격 </th>
                    <td width=500><input type="text" name="price" size="5">원</td> 
                </tr>
                <tr>
                    <th width=100>판매사 </th>
                    <td width=500><input type="text" name="company" size="10"></td> 
                </tr>
            </table>
            <div id="buttons">
                <input type="submit" value="등록" class="button">
                <input type="reset" value="취소" class="button">
            </div>
            <div id="list" style="width: 600px; margin: 0px auto;">
            </div>
            </form>
        </div>
        <div id="bottom"><h5>CopyRight 2022. 인천일보아카데미 Reserve All Right.</h5></div>
    </div>
</body> 
<script>
    $(frm).on("submit",function(e){//frm submit버튼을 클릭한 경우
        e.preventDefault(); //submit를 방지
        //유효성체크
        let code=$(frm.code).val();
        let name=$(frm.name).val();
        let price=$(frm.price).val();
        let company=$(frm.company).val();

        if(name==""){
            alert("상품명을 입력해주세요  !");
            $(frm.name).focus();
        }else if(price==""){
            alert("가격을 입력해주세요!");
            $(frm.price).focus();
        }else if(company==""){
            alert("판매사를 입력해주세요!");
            $(frm.company).focus();
        }else{
            let str="<tr class='row'>";
                str+="<td class='code' width='50'>" +code +"</td>";
                str+="<td class='name' width='50'>" +name +"</td>";
                str+="<td class='price' width='50'>" +price +"</td>";
                str+="<td class='company' width='50'>" +company +"</td>";
                str+="<td width=50><button>삭제</button></td>"
                str+="</tr>"; 
            $("#list").append(str);
            $(frm.name).val();
            $(frm.price).val();
            $(frm.company).val();
        }
    });
    $("#list").on("click",".row button",function(){
        let row=$(this).parent().parent();
        let name=row.find(".name").html();
        if(!confirm(name+"을(를) 삭제?")) return;
        row.remove();
    });
</script>
</html>